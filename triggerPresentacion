CREATE OR REPLACE FUNCTION check_age() 
RETURNS TRIGGER AS $$
BEGIN
    IF NEW.edad < 18 THEN
        RAISE EXCEPTION 'No se puede insertar o actualizar un registro para un alumno menor de 18 aÃ±os.';
    END IF;
    RETURN NEW;
END;
$$
 LANGUAGE plpgsql;

CREATE TRIGGER age_check_trigger
BEFORE INSERT OR UPDATE ON tablaprueba1
FOR EACH ROW EXECUTE FUNCTION check_age();
